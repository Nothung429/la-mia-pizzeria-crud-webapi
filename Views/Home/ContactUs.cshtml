@{

}

<div class="container">
    <div class="card my-5">
        <div class="card-header">
            <h1>Scrivi Messaggio</h1>
        </div>
        <div class="card-body">
            <form onsubmit="Send(message)">
                <div class="mb-3">
                    <label for="contact-email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="contact-email">
                </div>

                <div class="mb-3">
                    <label for="contact-name" class="form-label">Nome</label>
                    <input type="text" class="form-control" id="contact-name">
                </div>

                <div class="mb-3">
                    <label for="contact-title" class="form-label">Titolo</label>
                    <input type="text" class="form-control" id="contact-title">
                </div>

                <div class="mb-3">
                    <label for="contact-text" class="form-label">Testo</label>
                    <textarea class="form-control" id="contact-text" rows="10"></textarea>
                </div>

                <div>
                    <p>* Questi campi sono obbligatori</p>
                </div>

                <button type="submit" class="btn btn-outline-success">Invia</button>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">

    function Send(mess) {
        mess.preventDefault();

        axios.post("/api/message/sendmessage", {
            email: document.querySelector('#contact-email').value,
            name: document.querySelector('#contact-name').value,
            title: document.querySelector('#contact-title').value,
            text: document.querySelector('#contact-text').value,
        })
        .then(res => {
            document.querySelector('#contact-email').value = '';
            document.querySelector('#contact-name').value = '';
            document.querySelector('#contact-title').value = '';
            document.querySelector('#contact-text').value = '';
            alert('Messaggio inviato correttamente');
        })
        .catch(error => {
            console.log(error);
            alert('Hai sbagliato trimone');
        })
    }

</script>
